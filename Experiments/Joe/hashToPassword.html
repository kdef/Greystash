<HTML>
<HEAD>
<TITLE> Generate Password</TITLE></HEAD>
<BODY>
<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha256.js"></script>
<Script src="extension\findPass.js"></script>
<script>
/*Function is called when the button is clicked.
The form object contains the following fields:

url: a text box used to display the current url
masterPassword: input box where the user types their password
hexNum: text box used to display the sha256 hash number generated
passwordGen: text box used to display the actual password created

*/
function genPass(form)
{
	var url = form.url.value;
	//the local key/ certificate will be be generated when extension is 
	//installed, but for now will use hard-coded string
	var masterPassword = form.masterPassword.value;
    var pin = form.pin.value;
    pin = CryptoJS.SHA256(pin).toString();
    var password = genPassword(url,masterPassword,pin);
    form.passwordGen.value = password;
}

</SCRIPT>
<form>
	<p>Master Password:<input type="password" name="masterPassword"></p>
    <p>Webpage URL:      <input type="text" name="url" size="50"></p>
    <p>Pin:      <input type="text" name="pin" size="50"></p>
	<p><input type="button" value="Get Password" onClick="genPass(this.form)"></p>
	<p>Password Generated:<input type="text" name="passwordGen"></p>
</form>
</body></html>
</BODY>
</HTML>