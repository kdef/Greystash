<HTML>
<HEAD>
<TITLE> Generate Password</TITLE></HEAD>
<BODY>
<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha256.js"></script>
<Script src="extension\findPass.js"></script>
<script>
/*Function is called when the button is clicked.
The form object contains the following fields:

url: input box for the website to find a password for
    new idea we should just have a drop down menu, since we only support certain sites
typedPassword: input box where the user types their password
hexNum: text box used to display the sha256 hash number generated
passwordGen: text box used to display the actual password created

*/
function genPass(form)
{
	var url = form.url.value;
	//the local key/ certificate will be be generated when extension is 
	//installed, but for now will use hard-coded string
	var typedPassword = form.typedPassword.value;
    var extensionPassword = form.extensionPassword.value;
    extensionPassword = CryptoJS.SHA256(extensionPassword).toString();
    //console.log(extensionPassword);
    var password = genPassword(url,typedPassword,extensionPassword);
    form.passwordGen.value = password;
}

</SCRIPT>
<form>
	<p>Typed Password:<input type="password" name="typedPassword" value ="foo" ></p>
    <p>Webpage URL:      <input type="text" name="url" size="50" value = "https://www.facebook.com/"></p>
    <p>Extension Password:      <input type="text" name="extensionPassword" size="50" value = "ilikepeasandcarrots"></p>
	<p><input type="button" value="Get Password" onClick="genPass(this.form)"></p>
	<p>Password Generated:<input type="text" name="passwordGen"></p>
</form>
</body></html>
</BODY>
</HTML>